## 内部类

### 基本介绍

一个类的内部又完整的嵌套了另一个类结构。 被嵌套的类成为内部类（inner class）， 嵌套其他类的类成为外部类（outer class）。 是我们类的第五大成员（属性、方法、构造器、代码块、内部类），
内部类最大的特点就是<font color = yellow>可以直接访问私有属性， 并且可以体现类与类之间的包含关系</font>。 注意：内部类是学习的难点，同时也是重点，后面看底层源码时，有大量 的内部类。

### 基本语法

```java
class Outer { // 外部类
    class Inner { // 内部类

    }
}

class Other { // 外部其他类
}
```

### 分类

* 定义在外部类的局部位置上（比如方法内）：
    * 局部内部类（有类名）
    * 匿名内部类（没有类名，重点！！！）
* 定义在外部类的成员位置上：
    * 成员内部类（没有用static修饰）
    * 静态内部类（使用static修饰）

#### 局部内部类使用

说明：局部内部类是定义在外部类的局部位置，比如方法中，并且有类名

1. 可以直接访问外部类的所有成员，包含私有的
2. 不能添加访问修饰符，因为它的地位就是一个局部变量。局部变量不能使用修饰符的。但是可以 使用 final 修饰，因为局部变量也可以使用 final
3. 作用域：仅仅在定义它的方法或代码中
4. 局部内部类可以直接访问外部类的成员
5. 外部类访问局部内部类的成员。访问方式：创建对象，再访问（注意：必须在作用域内）
6. 外部其他类不能访问局部内部类，因为局部内部类地位是一个局部变量
7. 如果外部类和局部内部类的成员重名时，默认遵循就近原则，如果想访问外部类的成员，则可以使用（<font color = blue>外部类名.this.成员</font>）去访问

注意:

1. 局部内部类定义在方法中/代码块
2. 作用域在方法体或者代码块中
3. 本质仍然是一个类

#### 匿名内部类的使用（重要!!!!）

(1) 本质是类 (2) 内部类 (3) 该类没有名字（表面上看不到，系统分配名字，隐藏起来的）
(4) 同时还是一个对象

说明：匿名内部类是定义在外部类的局部位置，比如方法中，并且没有类名

1. 匿名内部类的基本语法

```java
new 类或对象(参数列表){
        类体
        };
```

2. 匿名内部类的语法比较奇特，请注意，因为匿名内部类既是一个类的定义，同时它本身也是一个对象，因此从语法上来看 它既有定义类的特征，也有创建对象的特征，因此可以调用匿名内部类的方法
3. 可以直接访问外部类的所有成员，包含私有的
4. 不能添加访问修饰符，因为它的地位就是一个局部变量
5. 作用域：仅仅在定义它的方法或代码块中
6. 匿名内部类<font color = yellow>直接访问</font>外部类成员
7. 外部其他类不能访问匿名内部类
8. 如果外部类和匿名内部类的成员重名时，匿名内部类访问的话，要 遵守就近原则，如果想访问外部类的成员，就可以直接使用（外部类名.this.成员）去访问

#### 成员内部类

说明：成员内部类是定义在外部类的成员位置，而且没有 static 修饰

1. 可以直接访问外部类的所有成员，包含私有的

```java
class Outer01 {
    private int n1 = 10;
    public String name = "张三";

    class Inner01 {
        public void say() {
            System.out.println("Outer01 的 n1 = " + n1 + " outer01 的 name = " + name);
         
        }
    }
}
```
2. 可以添加任意访问修饰符(public、protected、默认、private)，因为它的地位就是一个成员
3. 作用域 MemberInnerClass01.java 和外部类的其他成员一样
，为整个类体比如前面案例，在外部类的成员方法中创建成员内部类对象
再调用方法。
4. 成员内部类----访问---->外部类（比如：属性）[访问方式：直接访问]
5. 外部类----访问---->内部类[访问方式：创建对象再访问]
6. 外部其他类----访问---->成员内部类